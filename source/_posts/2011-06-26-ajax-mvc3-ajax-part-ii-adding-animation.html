---
layout: post
title: "ASP.NET MVC3 Ajax Part ii - Adding Animation to Action Link"
date: 2011-06-26
comments: false
categories:
 - ASP.NET MVC 3
---

<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">This blog post is the continuation of my <a href="http://sweettam.blogspot.com/2011/06/aspnet-mvc-3-ajax-part-i.html">previous blog post</a>. In that blog post we have seen how to achieve the basic Ajax functionality using Ajax.ActionLink() Helper method. Probably in many websites you might have seen whenever any ajax request is raised by the user, there would be an associated loading text or a loading gif will be displayed which inform the user that something is going on the background. We are now going to see how to achieve the same using the ActionLink() method.<br /><br />ActionLink() method uses a&nbsp;declarative approach to do this. All we need to do is to create a div element contains the element which will be displayed during the Ajax request and associate the div element to the ActionLink() method by assigning the "LoadingElementId" AjaxOption to the div element's id. Let us see how to do this by using the MVC3 app that we have seen in the <a href="http://sweettam.blogspot.com/2011/06/aspnet-mvc-3-ajax-part-i.html">previous blog</a>.<br /><br /><b>Adding Loading Div Element</b><br />Open "Index.cshtml" and append the following div. It just contains image element which will be displayed during ajax request.<br /><textarea class="html" cols="60" name="code" rows="10">&lt;br /&gt; &lt;div id="divLoading" style="display:none"&gt;&lt;br /&gt;     &lt;img src="../../Content/images/loading.gif" /&gt;&lt;br /&gt; &lt;/div&gt;</textarea><br />Note the inline style. The display has been set to none as it not intended to display only during Ajax request. <br /><br /><b>Associate Div Element with ActionLink() method</b><br />This is very simple. We just need to add the AjaxOption "LoadingElementId" and assign it to the loading div element's id. The modified ActionLink() method will look as follows.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-6NlSqFH_RBU/TgbDPO7tB_I/AAAAAAAAAHc/BEEQT3XEWmQ/s1600/ActionLink+Method.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="103px" src="http://1.bp.blogspot.com/-6NlSqFH_RBU/TgbDPO7tB_I/AAAAAAAAAHc/BEEQT3XEWmQ/s320/ActionLink+Method.png" width="320px" /></a></div><br /><b>Simulating a delay in Action Method</b><br />Now when we run the application we might not get a chance to see the loading gif as everything takes place is very less time. In order to see the loading gif, we need to increase the processing time taken by the GreetMe action method.&nbsp; The modified GreetMe action method&nbsp; in "HomeController.cs" will look as follows. The delay has been introduced by using the Thread.Sleep() method which delay the process by 2 seconds. <br /><textarea class="html" cols="60" name="code" rows="10">&lt;br /&gt; public string GreetMe&lt;br /&gt; {&lt;br /&gt;   System.Threading.Thread.Sleep(2000);&lt;br /&gt;   return "Hello ASP.NET MVC3 Ajax !!";&lt;br /&gt; }&lt;br /&gt; </textarea><br />Now when build the application we will be able to see the loading gif when the Greet Me link is clicked.<br /><br /><b>Summary</b>&nbsp; <br />In the Part i &amp; ii of this series we have seen a basic Ajax functionality using Ajax.ActionLink() method. The source code of the demo application can be downloaded from <a href="http://www.box.net/shared/zmn84rj31g2kdx19flxq">here</a>.<br /><b><span class="Apple-style-span" style="font-family: Consolas; font-size: 13px; white-space: pre;"></span></b></div></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>"என் ராஜபாட்டை"- ராஜா</div>
<div class='content'>
வலைசரத்தில் உங்களை பற்றி எழுதி உள்ளேன் நேரம் இருந்தால் பார்க்கவும்<br />நன்றி<br /><a href="http://blogintamil.blogspot.com/2011/07/2.html" rel="nofollow">கூட்டான்சோறு பகுதி - 2 </a></div>
</div>
</div>
