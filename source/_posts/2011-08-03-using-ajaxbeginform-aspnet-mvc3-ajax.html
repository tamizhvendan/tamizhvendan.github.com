---
layout: post
title: "Using Ajax.BeginForm – ASP.NET MVC3 Ajax – Part III"
date: 2011-08-03
comments: false
categories:
 - ASP.NET MVC 3
---

<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on"><div closure_uid_2alna1="186" dir="ltr" style="border-bottom: medium none; border-left: medium none; border-right: medium none; border-top: medium none; text-align: left;" trbidi="on"><div class="MsoNormal" style="margin: 0in 0in 10pt; text-align: justify;"><span closure_uid_lmpfp9="345" style="font-family: Calibri;">In my previous blog posts <a href="http://sweettam.blogspot.com/2011/06/aspnet-mvc-3-ajax-part-i.html">Part 1</a>, <a href="http://sweettam.blogspot.com/2011/06/ajax-mvc3-ajax-part-ii-adding-animation.html">Part 2</a> we have explored how to use the Ajax.ActionLink() helper method to implement a basic Ajax request. In this blog post we have are going to see an another useful helper method “Ajax.BeginForm()”.</span></div><div closure_uid_2alna1="128"><span closure_uid_lmpfp9="414" style="font-family: 'Calibri','sans-serif'; font-size: 11pt; line-height: 115%; mso-ansi-language: EN-US; mso-ascii-theme-font: minor-latin; mso-bidi-font-family: 'Times New Roman'; mso-bidi-language: AR-SA; mso-bidi-theme-font: minor-bidi; mso-fareast-font-family: Calibri; mso-fareast-language: EN-US; mso-fareast-theme-font: minor-latin; mso-hansi-theme-font: minor-latin;"><span style="mso-tab-count: 1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>We will be implementing the following scenario using the Ajax.BeginForm(). The scenario would be having a view consisting of a simple form with name and email field.</span></div><div closure_uid_2alna1="128" closure_uid_lmpfp9="152"><br /><div class="separator" closure_uid_lmpfp9="412" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-ymtu1zLXx3A/TjkOu1RpS_I/AAAAAAAAAIs/dbURJFeRGeA/s1600/AjaxBeginForm1.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320px" src="http://3.bp.blogspot.com/-ymtu1zLXx3A/TjkOu1RpS_I/AAAAAAAAAIs/dbURJFeRGeA/s320/AjaxBeginForm1.PNG" t$="true" width="249px" /></a></div><br /></div><div class="separator" style="clear: both; text-align: center;"></div><span closure_uid_2alna1="184" style="font-family: 'Calibri','sans-serif'; font-size: 11pt; line-height: 115%; mso-ansi-language: EN-US; mso-ascii-theme-font: minor-latin; mso-bidi-font-family: 'Times New Roman'; mso-bidi-language: AR-SA; mso-bidi-theme-font: minor-bidi; mso-fareast-font-family: Calibri; mso-fareast-language: EN-US; mso-fareast-theme-font: minor-latin; mso-hansi-theme-font: minor-latin;">Upon clicking the “Submit” button, the data will be sent back to the server via Ajax Post request and get a confirmation like this.</span> <br /><div closure_uid_lmpfp9="169"><br /></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-SvRqB-F2Yu4/TjkOuy-BpiI/AAAAAAAAAIw/er75G6DKkcU/s1600/AjaxBeginForm2.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-SvRqB-F2Yu4/TjkOuy-BpiI/AAAAAAAAAIw/er75G6DKkcU/s1600/AjaxBeginForm2.PNG" t$="true" /></a></div><div closure_uid_lmpfp9="169"><br /></div><div class="MsoNormal" style="margin: 0in 0in 10pt; text-align: justify;"><span style="mso-no-proof: yes;"><span closure_uid_lmpfp9="415" style="font-family: Calibri;"><span style="mso-tab-count: 1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ASP.NET </span>MVC3 offers an intutive way to submitting/posting the form data to server via ajax using </span></span><a href="http://msdn.microsoft.com/en-us/library/system.web.mvc.ajax.ajaxextensions.beginform.aspx"><span style="mso-no-proof: yes;"><span style="color: purple; font-family: Calibri;">Ajax.BeginForm</span></span></a><span style="mso-no-proof: yes;"><span style="font-family: Calibri;"> Helper method. </span></span></div><div class="MsoNormal" style="margin: 0in 0in 10pt; text-align: justify;"><span style="mso-no-proof: yes;"><span style="font-family: Calibri;"><span style="mso-tab-count: 1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Lets start developing the scenario by first defining the Model (Not using TDD to keep this blog post simple).</span></span></div><pre class="c-sharp" name="code">using System.ComponentModel.DataAnnotations;<br /><br />namespace UsingAjaxForms.Models<br />{<br />    public class PersonalDetail<br />    {<br />        [Required]<br />        public string Name { get; set; }<br /><br />        [Required]        <br />        public string Email { get; set; }<br />    }<br />}<br /></pre><div class="MsoNormal" style="margin: 0in 0in 10pt; text-align: justify;"><span style="mso-no-proof: yes;"><span style="font-family: Calibri;"><span style="mso-tab-count: 1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>To keep things simple, Our PersonalDetailsController will be having only two action methods. One will handling the “Get” request for Creating PersonalDetail and the other one for handling “Post” request for Creating PersonalDetail.</span></span></div><pre class="c-sharp" name="code">using System.Web.Mvc;<br />using UsingAjaxForms.Models;<br /><br />namespace UsingAjaxForms.Controllers<br />{<br />    public class PersonalDetailController : Controller<br />    {<br />        public ActionResult Create()<br />        {<br />            var personalDetail = new PersonalDetail();<br />            return View(personalDetail);<br />        }<br /><br />        [HttpPost]<br />        public string Create(PersonalDetail personalDetails)<br />        {<br />            return "Hi " + personalDetails.Name + "!. Thanks for providing the details.";<br />        }<br />    }<br />}<br /></pre><div class="MsoNormal" style="margin: 0in 0in 10pt; text-align: justify;"><span style="mso-no-proof: yes;"><span style="font-family: Calibri;"><span style="mso-tab-count: 1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Now, the stage is set to play using ajax. The View for Creating new PersonalDetail using Ajax is similar to that of using oridinary post back except one factor. We need to replace the Html.BeginForm helper method with the </span><a href="http://msdn.microsoft.com/en-us/library/system.web.mvc.ajax.ajaxextensions.beginform.aspx"><span style="color: purple; font-family: Calibri;">Ajax.BeginForm</span></a><span style="font-family: Calibri;">.</span></span></div><div class="MsoNormal" style="margin: 0in 0in 10pt; text-align: justify;"><span style="mso-no-proof: yes;"><span style="font-family: Calibri;"><span style="mso-tab-count: 1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Ajax.BeginForm method has 11 overloads. On this blog post we are going to use the following overload. </span></span></div><div class="MsoNormal" style="margin: 0in 0in 10pt; text-align: justify; text-indent: 0.5in;"><b style="mso-bidi-font-weight: normal;"><span style="mso-no-proof: yes;"><span style="font-family: Calibri;">Ajax.BeginForm(string actionName, string controllerName, AjaxOptions ajaxOptions)</span></span></b></div><div class="MsoNormal" style="margin: 0in 0in 10pt; text-align: justify; text-indent: 0.5in;"><div style="border-bottom: medium none; border-left: medium none; border-right: medium none; border-top: medium none;"><span style="mso-no-proof: yes;"><span style="font-family: Calibri;">The actionName and controllerName points to the handler which is going to handle the ajax request and the ajaxOptions defines the behaviour of the ajax request.</span></span></div></div><div class="MsoNormal" style="margin: 0in 0in 10pt; text-align: justify; text-indent: 0.5in;"><div closure_uid_lmpfp9="251"><span style="mso-no-proof: yes;"><span style="font-family: Calibri;">The View for Creating PersonalDetail will look like this</span></span></div></div><div class="MsoNormal" style="margin: 0in 0in 10pt; text-align: justify; text-indent: 0.5in;"><div closure_uid_lmpfp9="213"><span style="font-family: Calibri;"><span style="mso-no-proof: yes;"><b style="mso-bidi-font-weight: normal;"><span closure_uid_lmpfp9="212" style="mso-tab-count: 1;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="mso-spacerun: yes;">&nbsp;&nbsp;</span><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><b style="mso-bidi-font-weight: normal;"></b></span></div></div><div class="MsoNormal" style="margin: 0in 0in 10pt; text-align: justify;"><div class="separator" style="border-bottom: medium none; border-left: medium none; border-right: medium none; border-top: medium none; clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-MbuiTU8NMKU/TjkOurokTOI/AAAAAAAAAIo/9FvQ9vtIDzw/s1600/AjaxBeginFormView.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-MbuiTU8NMKU/TjkOurokTOI/AAAAAAAAAIo/9FvQ9vtIDzw/s1600/AjaxBeginFormView.PNG" t$="true" /></a></div><div closure_uid_lmpfp9="416" style="border-bottom: medium none; border-left: medium none; border-right: medium none; border-top: medium none;"><span closure_uid_lmpfp9="311" style="font-family: Calibri;"><span style="mso-tab-count: 1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>That’s it!! All you need to do is to enclose your form into an Ajax.BeginForm method wired with the necessary configurations. <span style="mso-spacerun: yes;">&nbsp;</span>You can also play with the Ajax request by adding a loading animation as I have mentioned in <a href="http://sweettam.blogspot.com/2011/06/ajax-mvc3-ajax-part-ii-adding-animation.html">Part II blog post</a>. </span></div><div closure_uid_lmpfp9="416" style="border-bottom: medium none; border-left: medium none; border-right: medium none; border-top: medium none;"><br /></div><div closure_uid_lmpfp9="416" style="border-bottom: medium none; border-left: medium none; border-right: medium none; border-top: medium none;"><span closure_uid_lmpfp9="311" closure_uid_logsmu="118" style="font-family: Calibri;">Note: Dont forget to add references &nbsp;to the jQuery script files.</span></div></div><div class="MsoNormal" style="margin: 0in 0in 10pt; text-align: justify;"><b style="mso-bidi-font-weight: normal;"><span style="font-family: Calibri;">Summary:</span></b></div><div class="MsoNormal" style="margin: 0in 0in 10pt; text-align: justify;"><span closure_uid_lmpfp9="252" style="font-family: Calibri;"><b style="mso-bidi-font-weight: normal;"><span style="mso-tab-count: 1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b>In this blog post we have seen a very basic way to create Ajax forms in ASP.NET MVC3. In my upcoming blog posts we would explore some advance usage of Ajax forms. You can download the source code of this blog post from <a href="http://www.box.net/shared/kvktovzz5fiihtxemvr0">here.</a>&nbsp;<span style="mso-spacerun: yes;">&nbsp;</span></span></div></div></div></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Henrique</div>
<div class='content'>
Obrigado, ajudou muito!</div>
</div>
</div>
