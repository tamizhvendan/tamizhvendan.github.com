
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Verbs - Buried abstraction in OO World - Tamizh's Thoughts</title>
	<meta name="author" content="Tamizhvendan S">

	
	<meta name="description" content="Verbs - Buried Abstraction in OO World In Object Oriented Programming, the problem domain is being modeled as objects(nouns) which collaborate with &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="http://feeds.feedburner.com/tamizhvendan-blog" rel="alternate" title="Tamizh's Thoughts" type="application/atom+xml">
	
	<link rel="canonical" href="http://blog.tamizhvendan.in/blog/2014/09/26/verbs-buried-abstraction-in-oo-world/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-43004255-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("tamizh88@gmail.com") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
		});
	</script>
	
</div>

<nav id="main-nav"><ul class="main">
    <li><a href="/">Blog</a></li>
    <li><a href="http://about.me/tamizhvendan">About</a></li>
    <li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="sub-nav">
	<div class="social">
		
			<a class="email" href="mailto:tamizh88@gmail.com" title="Email">Email</a>
		
		
		
		
			<a class="twitter" href="http://twitter.com/tamizhvendan" title="Twitter">Twitter</a>
		
		
			<a class="github" href="https://github.com/tamizhvendan" title="GitHub">GitHub</a>
		
		
			<a class="coderwall" href="https://coderwall.com/tamizhvendan" title="Coderwall">Coderwall</a>
		
		
		
		
		
		
		
		
		
    	
    	
			<a class="rss" href="http://feeds.feedburner.com/tamizhvendan-blog" title="RSS">RSS</a>
		
	</div>
<nav id="tag-cloud">
	<section>
    <span id="tag-cloud"><a href='/blog/categories/asp-dot-net' style='font-size: 106.0%'>asp.net</a> <a href='/blog/categories/asp-dot-net-mvc' style='font-size: 160.0%'>asp.net mvc</a> <a href='/blog/categories/c-number' style='font-size: 124.0%'>c#</a> <a href='/blog/categories/craftsmanship' style='font-size: 124.0%'>craftsmanship</a> <a href='/blog/categories/data-access' style='font-size: 118.0%'>data access</a> <a href='/blog/categories/entity-framework' style='font-size: 130.0%'>entity framework</a> <a href='/blog/categories/fsharp' style='font-size: 106.0%'>fsharp</a> <a href='/blog/categories/functional-programming' style='font-size: 106.0%'>functional-programming</a> <a href='/blog/categories/goals' style='font-size: 106.0%'>goals</a> <a href='/blog/categories/javascript' style='font-size: 118.0%'>javascript</a> <a href='/blog/categories/jquery' style='font-size: 112.0%'>jquery</a> <a href='/blog/categories/node-dot-js' style='font-size: 112.0%'>node.js</a> <a href='/blog/categories/others' style='font-size: 106.0%'>others</a> <a href='/blog/categories/programming' style='font-size: 136.0%'>programming</a> <a href='/blog/categories/unit-testing' style='font-size: 130.0%'>unit testing</a> </span>
</section>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">Verbs - Buried Abstraction in OO World</h1>
	<div class="entry-content" itemprop="articleBody"><p>In Object Oriented Programming, the problem domain is being modeled as objects(nouns) which collaborate with one another in the form of messages(verbs). We are actually creating abstractions and through which we are solving the problems in an organized and cleaner way. But this way of creating abstractions does not scale in all the scenarios.</p>

<p>Let me share it through an example </p>

<p>Lets rewind the time machine to travel back to 2006 (.NET 2.0) which doesn’t have <code>LINQ</code> support. You are asked to solve the following problem statement</p>

<blockquote>
  <p>You are working on a Student Management Application. Each student is having a name and an age. You are asked to create module to sort the Students based on their name</p>
</blockquote>

<div><script src="https://gist.github.com/4fd1f5ea2b4e28658e81.js?file=Student.cs"></script>
<noscript><pre><code>public class Student
{
  public int Age { get; set; }
  public string Name { get; set; }
}</code></pre></noscript></div>

<p>To sort based on Name we need to write a comparer which compares two student names and return some integer</p>

<div><script src="https://gist.github.com/4fd1f5ea2b4e28658e81.js?file=StudentNameComparer.cs"></script>
<noscript><pre><code>public class StudentNameComparer : IComparer&lt;Student&gt;
{
  public int Compare(Student x, Student y)
  {
    return string.Compare(x.Name, y.Name, StringComparison.CurrentCulture);
  }
}</code></pre></noscript></div>

<p>Then in the main program we will be doing the sorting using <code>Array.Sort</code> method</p>

<div><script src="https://gist.github.com/4fd1f5ea2b4e28658e81.js?file=Program.cs"></script>
<noscript><pre><code>class Program
{
  static void Main(string[] args)
  {
    List&lt;Student&gt; students = new List&lt;Student&gt;();

    // Populate Students List here	

    Student[] studentsSortedByName = students.ToArray();       

    Array.Sort(studentsSortedByName, new StudentNameComparer());
  }
}</code></pre></noscript></div>

<p>Hmmm. You might think what is a big deal in it ? But there is! Let me complicate the scenario by adding a new requirement</p>

<blockquote>
  <p>You also asked to do sorting based on Age!</p>
</blockquote>

<p>How do you do it ?</p>

<p>Well! Just create yet another Comparer which compares the age</p>

<div><script src="https://gist.github.com/4fd1f5ea2b4e28658e81.js?file=StudentAgeComparer.cs"></script>
<noscript><pre><code>public class StudentAgeComparer : IComparer&lt;Student&gt;
{
  public int Compare(Student x, Student y)
  {
    if (x.Age == y.Age)
    {
      return 0;
    }
    if (x.Age &lt; y.Age)
    {
      return -1;
    }
      return 1;
  }
}</code></pre></noscript></div>

<div><script src="https://gist.github.com/4fd1f5ea2b4e28658e81.js?file=Program1.cs"></script>
<noscript><pre><code>class Program1
{
  static void Main(string[] args)
  {
    List&lt;Student&gt; students = new List&lt;Student&gt;();
	
    // Populate Students List here	

    Student[] studentsSortedByAge = students.ToArray();       

    Array.Sort(studentsSortedByAge, new StudentAgeComparer());
  }
}</code></pre></noscript></div>

<p>So much of code to do the trivial thing, isn’t it ?</p>

<p>Let us dig deep to figure out what is wrong here. First let us start with the comparers <code>StudentAgeComparer</code> and <code>StudentNameComparer</code>. These comparers (nouns) actually escorting the method <code>Compare</code> (verb) and not doing anything productive apart from this. In OO world a verb should always be associated with a noun and because of this way of abstraction, we are adding an unnecessary complexity to the code. </p>

<p>Just think of yet another scenario where want to sort the student by rank, customer by name, product by name. We need to write so much comparers!</p>

<h3 id="verbs-to-the-rescue">Verbs to the rescue</h3>

<p>Let us see the student sorting scenario from a different perspective. In this new pair of (functional)eyes we see the same scenario as</p>

<ul>
  <li><strong>Order</strong> <em>Student</em> by <strong>Name</strong>  </li>
  <li><strong>Order</strong> <em>Student</em> by <strong>Age</strong>  </li>
  <li><strong>Order</strong> <em>Customer</em> by <strong>Name</strong>  </li>
  <li><strong>Order</strong> <em>Product</em> by <strong>Name</strong>  </li>
</ul>

<p>i.e the verb <strong>Order</strong> is common across all the scenario. </p>

<p>The only thing which is changing is <em>what we are ordering</em> and <em>by which property</em>. Let us model things based on this verb abstraction.</p>

<p>PseudoCode</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class=""><span class="line">OrderBy&lt;Student&gt;(s -&gt; s.Name)
</span><span class="line">OrderBy&lt;Student&gt;(s -&gt; s.Age)
</span><span class="line">OrderBy&lt;Customer&gt;(c -&gt; c.Name)
</span><span class="line">OrderBy&lt;Product&gt;(p -&gt; p.Name)</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Here OrderBy is a function which models the verb (Order). Two things to note</p>

<ul>
  <li>OrderBy is generic and it can act on any types of objects (Student, Customer, Product,…)</li>
  <li>OrderBy doesn’t know which property to choose so, we need to tell explicitly.</li>
</ul>

<p>So, what we gained because of this ?</p>

<p>Let us go back to the initial requirement</p>

<blockquote>
  <p>You are working on a Student Management Application. Each student is having a name and an age. You are asked to create module to sort the Students based on their name and age</p>
</blockquote>

<p>Now change the time machine to land in 2014. We have <code>LINQ</code> support in <code>C#</code> now which supports verbs (functions) as first class citizens</p>

<div><script src="https://gist.github.com/4fd1f5ea2b4e28658e81.js?file=Program2.cs"></script>
<noscript><pre><code>class Program2
{
  static void Main(string[] args)
  {
    List&lt;Student&gt; students = new List&lt;Student&gt;();

    // Populate Students List here	

    var studentsSortedByName = Enumerable.OrderBy(students, s =&gt; s.Name);
    var studentsSortedByAge = Enumerable.OrderBy(students, s =&gt; s.Age);
  }
}</code></pre></noscript></div>

<p>Just two lines instead of two comparers. All we did is just changed the way we create abstractions. Let me explain it using some visuals.</p>

<p><img class="center" src="/images/VerbsInOoWorld/Students_Sorted_By_Name.png" title="" /></p>

<p>OrderBy is an abstraction which does only one thing, that is order the objects in an ascending order and does it to the perfection. But to use this abstraction we need to provide two inputs, the objects and a function which provides the propery by which the objects to be sorted </p>

<p>Does it closely resemble what we have seen earlier in the pseudocode ? Since it is generic, we can also use it for all other objects (Product, Customer, etc.,) too !</p>

<p><img class="center" src="/images/VerbsInOoWorld/Students_Sorted_By_Age.png" title="" /></p>

<h4 id="summary">Summary</h4>

<p>Verbs(functions) are not silver bullets and they are not the replacement of Nouns(objects). But by choosing our abstraction wisely we can achieve great things with lesser lines of code and in turn release the code with lesser bugs <i class="emoji smile"></i> </p>
</div>

</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
	
	
	
	<a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>



<section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2014

    Tamizhvendan S


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
		</div>
	</div>
	

<script type="text/javascript">
      var disqus_shortname = 'tamizhvendan-blog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.tamizhvendan.in/blog/2014/09/26/verbs-buried-abstraction-in-oo-world/';
        var disqus_url = 'http://blog.tamizhvendan.in/blog/2014/09/26/verbs-buried-abstraction-in-oo-world/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>






</body>
</html>
